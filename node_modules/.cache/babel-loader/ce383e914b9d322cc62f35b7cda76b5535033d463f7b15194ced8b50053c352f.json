{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nexport const useAuth = () => {\n  _s();\n  const [token, setToken] = useState('');\n  useEffect(() => {\n    const savedToken = localStorage.getItem('token');\n    if (savedToken) {\n      setToken(savedToken);\n    }\n  }, []);\n  useEffect(() => {\n    if (!token) {\n      logout();\n    }\n    if (!localStorage.getItem('token')) {\n      logout();\n    }\n  }, [token]);\n  const login = newToken => {\n    localStorage.setItem('token', newToken);\n    setToken(newToken);\n  };\n  const logout = () => {\n    localStorage.removeItem('token');\n    setToken('');\n  };\n  return {\n    token,\n    login,\n    logout,\n    isAuthenticated: !token\n  };\n};\n_s(useAuth, \"NNokbBNU5GYzpVwhbmH3rlwiHFA=\");","map":{"version":3,"names":["useEffect","useState","useAuth","_s","token","setToken","savedToken","localStorage","getItem","logout","login","newToken","setItem","removeItem","isAuthenticated"],"sources":["/Users/nurmakhanbetkenes/Desktop/projects clones/lost-and-found/src/hooks/useAuth.ts"],"sourcesContent":["import {useEffect, useState} from \"react\";\n\nexport const useAuth = () => {\n    const [token, setToken] = useState<string>('');\n\n    useEffect(() => {\n        const savedToken = localStorage.getItem('token');\n        if (savedToken) {\n            setToken(savedToken);\n        }\n    }, []);\n    useEffect(() => {\n        if (!token){\n            logout()\n        }\n        if (!localStorage.getItem('token')){\n            logout()\n        }\n    }, [token]);\n\n    const login = (newToken: string) => {\n        localStorage.setItem('token', newToken);\n        setToken(newToken);\n    }\n\n    const logout = () => {\n        localStorage.removeItem('token');\n        setToken('');\n    }\n\n\n    return {\n        token,\n        login,\n        logout,\n        isAuthenticated: !token,\n    }\n}"],"mappings":";AAAA,SAAQA,SAAS,EAAEC,QAAQ,QAAO,OAAO;AAEzC,OAAO,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACzB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGJ,QAAQ,CAAS,EAAE,CAAC;EAE9CD,SAAS,CAAC,MAAM;IACZ,MAAMM,UAAU,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAChD,IAAIF,UAAU,EAAE;MACZD,QAAQ,CAACC,UAAU,CAAC;IACxB;EACJ,CAAC,EAAE,EAAE,CAAC;EACNN,SAAS,CAAC,MAAM;IACZ,IAAI,CAACI,KAAK,EAAC;MACPK,MAAM,CAAC,CAAC;IACZ;IACA,IAAI,CAACF,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EAAC;MAC/BC,MAAM,CAAC,CAAC;IACZ;EACJ,CAAC,EAAE,CAACL,KAAK,CAAC,CAAC;EAEX,MAAMM,KAAK,GAAIC,QAAgB,IAAK;IAChCJ,YAAY,CAACK,OAAO,CAAC,OAAO,EAAED,QAAQ,CAAC;IACvCN,QAAQ,CAACM,QAAQ,CAAC;EACtB,CAAC;EAED,MAAMF,MAAM,GAAGA,CAAA,KAAM;IACjBF,YAAY,CAACM,UAAU,CAAC,OAAO,CAAC;IAChCR,QAAQ,CAAC,EAAE,CAAC;EAChB,CAAC;EAGD,OAAO;IACHD,KAAK;IACLM,KAAK;IACLD,MAAM;IACNK,eAAe,EAAE,CAACV;EACtB,CAAC;AACL,CAAC;AAAAD,EAAA,CAnCYD,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}