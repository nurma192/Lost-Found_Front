{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nexport const useAuth = () => {\n  _s();\n  const [token, setToken] = useState('');\n  useEffect(() => {\n    const savedToken = localStorage.getItem('token');\n    if (savedToken) {\n      setToken(savedToken);\n    }\n  }, []);\n  useEffect(() => {\n    if (token === '') {\n      const localToken = localStorage.getItem('token');\n      if (!localToken) {\n        logout();\n      }\n      setToken(localToken);\n    }\n  }, [token]);\n  const login = newToken => {\n    localStorage.setItem('token', newToken);\n    setToken(newToken);\n  };\n  const logout = () => {\n    localStorage.removeItem('token');\n    setToken('');\n  };\n  return {\n    token,\n    login,\n    logout,\n    isAuthenticated: !token\n  };\n};\n_s(useAuth, \"NNokbBNU5GYzpVwhbmH3rlwiHFA=\");","map":{"version":3,"names":["useEffect","useState","useAuth","_s","token","setToken","savedToken","localStorage","getItem","localToken","logout","login","newToken","setItem","removeItem","isAuthenticated"],"sources":["/Users/nurmakhanbetkenes/Desktop/projects clones/lost-and-found/src/hooks/useAuth.ts"],"sourcesContent":["import {useEffect, useState} from \"react\";\n\nexport const useAuth = () => {\n    const [token, setToken] = useState<string>('');\n\n    useEffect(() => {\n        const savedToken = localStorage.getItem('token');\n        if (savedToken) {\n            setToken(savedToken);\n        }\n    }, []);\n    useEffect(() => {\n        if (token === ''){\n            const localToken = localStorage.getItem('token');\n            if (!localToken){\n                logout()\n            }\n            setToken(localToken);\n        }\n\n    }, [token]);\n\n    const login = (newToken: string) => {\n        localStorage.setItem('token', newToken);\n        setToken(newToken);\n    }\n\n    const logout = () => {\n        localStorage.removeItem('token');\n        setToken('');\n    }\n\n\n    return {\n        token,\n        login,\n        logout,\n        isAuthenticated: !token,\n    }\n}"],"mappings":";AAAA,SAAQA,SAAS,EAAEC,QAAQ,QAAO,OAAO;AAEzC,OAAO,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACzB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGJ,QAAQ,CAAS,EAAE,CAAC;EAE9CD,SAAS,CAAC,MAAM;IACZ,MAAMM,UAAU,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAChD,IAAIF,UAAU,EAAE;MACZD,QAAQ,CAACC,UAAU,CAAC;IACxB;EACJ,CAAC,EAAE,EAAE,CAAC;EACNN,SAAS,CAAC,MAAM;IACZ,IAAII,KAAK,KAAK,EAAE,EAAC;MACb,MAAMK,UAAU,GAAGF,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MAChD,IAAI,CAACC,UAAU,EAAC;QACZC,MAAM,CAAC,CAAC;MACZ;MACAL,QAAQ,CAACI,UAAU,CAAC;IACxB;EAEJ,CAAC,EAAE,CAACL,KAAK,CAAC,CAAC;EAEX,MAAMO,KAAK,GAAIC,QAAgB,IAAK;IAChCL,YAAY,CAACM,OAAO,CAAC,OAAO,EAAED,QAAQ,CAAC;IACvCP,QAAQ,CAACO,QAAQ,CAAC;EACtB,CAAC;EAED,MAAMF,MAAM,GAAGA,CAAA,KAAM;IACjBH,YAAY,CAACO,UAAU,CAAC,OAAO,CAAC;IAChCT,QAAQ,CAAC,EAAE,CAAC;EAChB,CAAC;EAGD,OAAO;IACHD,KAAK;IACLO,KAAK;IACLD,MAAM;IACNK,eAAe,EAAE,CAACX;EACtB,CAAC;AACL,CAAC;AAAAD,EAAA,CArCYD,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}