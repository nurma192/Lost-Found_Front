{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useQuery } from 'react-query';\nexport const getUserData = async token => {\n  const response = await fetch(`${process.env.REACT_APP_API_URL}/api/profile`, {\n    headers: {\n      'Authorization': `Bearer ${token}`\n    }\n  });\n  if (!response.ok) {\n    throw new Error('Failed to fetch user data');\n  }\n  console.log(\"response.json()\", response.json().then(data => data));\n  return response.json();\n};\nexport const useUserData = token => {\n  _s();\n  return useQuery('userData', () => getUserData(token), {\n    enabled: !!token // Query will not execute until the token is available\n  });\n};\n_s(useUserData, \"4ZpngI1uv+Uo3WQHEZmTQ5FNM+k=\", false, function () {\n  return [useQuery];\n});","map":{"version":3,"names":["useQuery","getUserData","token","response","fetch","process","env","REACT_APP_API_URL","headers","ok","Error","console","log","json","then","data","useUserData","_s","enabled"],"sources":["/Users/nurmakhanbetkenes/Desktop/projects clones/lost-and-found/src/api/usersApi.ts"],"sourcesContent":["import { useQuery } from 'react-query';\n\nexport const getUserData = async (token: string) => {\n    const response = await fetch(`${process.env.REACT_APP_API_URL}/api/profile`, {\n        headers: {\n            'Authorization': `Bearer ${token}`,\n        },\n    });\n\n    if (!response.ok) {\n        throw new Error('Failed to fetch user data');\n    }\n\n    console.log(\"response.json()\", response.json().then(data => data))\n    return response.json();\n};\n\nexport const useUserData = (token: string) => {\n    return useQuery('userData', () => getUserData(token), {\n        enabled: !!token, // Query will not execute until the token is available\n    });\n};\n"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,aAAa;AAEtC,OAAO,MAAMC,WAAW,GAAG,MAAOC,KAAa,IAAK;EAChD,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,cAAc,EAAE;IACzEC,OAAO,EAAE;MACL,eAAe,EAAE,UAAUN,KAAK;IACpC;EACJ,CAAC,CAAC;EAEF,IAAI,CAACC,QAAQ,CAACM,EAAE,EAAE;IACd,MAAM,IAAIC,KAAK,CAAC,2BAA2B,CAAC;EAChD;EAEAC,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAET,QAAQ,CAACU,IAAI,CAAC,CAAC,CAACC,IAAI,CAACC,IAAI,IAAIA,IAAI,CAAC,CAAC;EAClE,OAAOZ,QAAQ,CAACU,IAAI,CAAC,CAAC;AAC1B,CAAC;AAED,OAAO,MAAMG,WAAW,GAAId,KAAa,IAAK;EAAAe,EAAA;EAC1C,OAAOjB,QAAQ,CAAC,UAAU,EAAE,MAAMC,WAAW,CAACC,KAAK,CAAC,EAAE;IAClDgB,OAAO,EAAE,CAAC,CAAChB,KAAK,CAAE;EACtB,CAAC,CAAC;AACN,CAAC;AAACe,EAAA,CAJWD,WAAW;EAAA,QACbhB,QAAQ;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}